{"remainingRequest":"/Users/ckiprotich/Desktop/Projects/vueapi/client/node_modules/babel-loader/lib/index.js!/Users/ckiprotich/Desktop/Projects/vueapi/client/node_modules/eslint-loader/index.js??ref--13-0!/Users/ckiprotich/Desktop/Projects/vueapi/client/src/store/index.js","dependencies":[{"path":"/Users/ckiprotich/Desktop/Projects/vueapi/client/src/store/index.js","mtime":1577880979487},{"path":"/Users/ckiprotich/Desktop/Projects/vueapi/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ckiprotich/Desktop/Projects/vueapi/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ckiprotich/Desktop/Projects/vueapi/client/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFZ1ZXggZnJvbSAidnVleCI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7ClZ1ZS51c2UoVnVleCk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgcG9zdHM6ICcnLAogICAgdGl0bGU6ICcnLAogICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSwKICAgIHN0YXR1czogJycsCiAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykgfHwgJycsCiAgICB1c2VyOiB7fQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBjaGFuZ2Vfc3RhdGU6IGZ1bmN0aW9uIGNoYW5nZV9zdGF0ZShzdGF0ZSwgcG9zdHMpIHsKICAgICAgc3RhdGUucG9zdHMgPSBwb3N0czsKICAgIH0sCiAgICBzZXRJc0F1dGhlbnRpY2F0ZWQ6IGZ1bmN0aW9uIHNldElzQXV0aGVudGljYXRlZChzdGF0ZSkgewogICAgICBzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQgPSB0cnVlOwogICAgfSwKICAgIGF1dGhfcmVxdWVzdDogZnVuY3Rpb24gYXV0aF9yZXF1ZXN0KHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9ICdsb2FkaW5nJzsKICAgIH0sCiAgICBhdXRoX3N1Y2Nlc3M6IGZ1bmN0aW9uIGF1dGhfc3VjY2VzcyhzdGF0ZSwgdG9rZW4sIHVzZXIpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gJ3N1Y2Nlc3MnOwogICAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogICAgICBzdGF0ZS51c2VyID0gdXNlcjsKICAgIH0sCiAgICBhdXRoX2Vycm9yOiBmdW5jdGlvbiBhdXRoX2Vycm9yKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9ICdlcnJvcic7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICB1c2VyTG9naW46IGZ1bmN0aW9uIHVzZXJMb2dpbihfcmVmLCB1c2VyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBjb21taXQoJ2F1dGhfcmVxdWVzdCcpOwogICAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9sb2dpbicsIHVzZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3AuZGF0YS50b2tlbjsKICAgICAgICAgIHZhciB1c2VyID0gcmVzcC5kYXRhLnVzZXI7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbik7CiAgICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gdG9rZW47CiAgICAgICAgICBjb21taXQoJ2F1dGhfc3VjY2VzcycsIHRva2VuLCB1c2VyKTsKICAgICAgICAgIHJlc29sdmUocmVzcCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29tbWl0KCdhdXRoX2Vycm9yJyk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsKICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICB1c2VyU2lnbnVwOiBmdW5jdGlvbiB1c2VyU2lnbnVwKF9yZWYyLCB1c2VyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgY29tbWl0KCdhdXRoX3JlcXVlc3QnKTsKICAgICAgICBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvcmVnaXN0ZXInLCB1c2VyKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICB2YXIgdG9rZW4gPSByZXNwLmRhdGEudG9rZW47CiAgICAgICAgICB2YXIgdXNlciA9IHJlc3AuZGF0YS51c2VyOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pOwogICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9IHRva2VuOwogICAgICAgICAgY29tbWl0KCdhdXRoX3N1Y2Nlc3MnLCB0b2tlbiwgdXNlcik7CiAgICAgICAgICByZXNvbHZlKHJlc3ApOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIGNvbW1pdCgnYXV0aF9lcnJvcicsIGVycik7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsKICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRQb3N0czogZnVuY3Rpb24gZ2V0UG9zdHMoX3JlZjMpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpJykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmV0dXJuIHJlcy5kYXRhOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChwb3N0cykgewogICAgICAgIGNvbnNvbGUubG9nKHBvc3RzKTsKICAgICAgICBjb21taXQoImNoYW5nZV9zdGF0ZSIsIHBvc3RzKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZFBvc3RzOiBmdW5jdGlvbiBhZGRQb3N0cyhfcmVmNCwgbXlwb3N0cykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3Bvc3QiLCBteXBvc3RzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICB9KTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGlzTG9nZ2VkSW46IGZ1bmN0aW9uIGlzTG9nZ2VkSW4oc3RhdGUpIHsKICAgICAgcmV0dXJuICEhc3RhdGUudG9rZW47CiAgICB9LAogICAgYXV0aFN0YXR1czogZnVuY3Rpb24gYXV0aFN0YXR1cyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuc3RhdHVzOwogICAgfQogIH0sCiAgbW9kdWxlczoge30KfSk7"},{"version":3,"sources":["/Users/ckiprotich/Desktop/Projects/vueapi/client/src/store/index.js"],"names":["Vue","Vuex","axios","use","Store","state","posts","title","isAuthenticated","status","token","localStorage","getItem","user","mutations","change_state","setIsAuthenticated","auth_request","auth_success","auth_error","actions","userLogin","commit","Promise","resolve","reject","post","then","resp","data","setItem","defaults","headers","common","catch","err","removeItem","userSignup","getPosts","get","res","console","log","addPosts","myposts","getters","isLoggedIn","authStatus","modules"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport axios from \"axios\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n    state: {\n        posts: '',\n        title: '',\n        isAuthenticated: false,\n        status: '',\n        token: localStorage.getItem('token') || '',\n        user: {}\n    },\n    mutations: {\n        change_state(state, posts) {\n            state.posts = posts;\n        },\n        setIsAuthenticated(state) {\n            state.isAuthenticated = true;\n        },\n        auth_request(state) {\n            state.status = 'loading'\n        },\n        auth_success(state, token, user) {\n            state.status = 'success';\n            state.token = token;\n            state.user = user\n        },\n        auth_error(state) {\n            state.status = 'error'\n        },\n    },\n    actions: {\n        userLogin({commit}, user) {\n            return new Promise((resolve, reject) => {\n                commit('auth_request');\n                axios.post('http://localhost:3000/login', user)\n                    .then(resp => {\n                        const token = resp.data.token;\n                        const user = resp.data.user;\n                        localStorage.setItem('token', token);\n                        axios.defaults.headers.common['Authorization'] = token;\n                        commit('auth_success', token, user);\n                        resolve(resp)\n                    })\n                    .catch(err => {\n                        commit('auth_error');\n                        localStorage.removeItem('token');\n                        reject(err)\n                    })\n            })\n        },\n        userSignup({commit}, user) {\n            return new Promise((resolve, reject) => {\n                commit('auth_request');\n                axios.post('http://localhost:3000/register', user)\n                    .then(resp => {\n                        const token = resp.data.token;\n                        const user = resp.data.user;\n                        localStorage.setItem('token', token);\n                        axios.defaults.headers.common['Authorization'] = token;\n                        commit('auth_success', token, user);\n                        resolve(resp)\n                    })\n                    .catch(err => {\n                        commit('auth_error', err);\n                        localStorage.removeItem('token');\n                        reject(err)\n                    })\n            })\n        },\n        getPosts({commit}) {\n            axios.get('http://localhost:3000/api')\n                .then(res => res.data)\n                .then(posts => {\n                    console.log(posts);\n                    commit(\"change_state\", posts);\n                })\n                .catch(err => {\n                    console.log(err)\n                })\n        },\n        addPosts({commit},myposts) {\n            axios.post(\"http://localhost:3000/api/post\", myposts)\n                .then(res=>{\n                    console.log(res)\n                })\n        }\n    },\n    getters: {\n        isLoggedIn: state => !!state.token,\n        authStatus: state => state.status,\n    },\n    modules: {}\n});\n"]}]}