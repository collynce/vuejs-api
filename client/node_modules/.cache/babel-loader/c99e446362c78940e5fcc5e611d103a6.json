{"remainingRequest":"/Users/ckiprotich/Desktop/Projects/vueapi/client/node_modules/babel-loader/lib/index.js!/Users/ckiprotich/Desktop/Projects/vueapi/client/node_modules/eslint-loader/index.js??ref--13-0!/Users/ckiprotich/Desktop/Projects/vueapi/client/src/store/index.js","dependencies":[{"path":"/Users/ckiprotich/Desktop/Projects/vueapi/client/src/store/index.js","mtime":1577823832276},{"path":"/Users/ckiprotich/Desktop/Projects/vueapi/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ckiprotich/Desktop/Projects/vueapi/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ckiprotich/Desktop/Projects/vueapi/client/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFZ1ZXggZnJvbSAidnVleCI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7ClZ1ZS51c2UoVnVleCk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgcG9zdHM6ICcnLAogICAgdGl0bGU6ICcnLAogICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSwKICAgIHN0YXR1czogJycsCiAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykgfHwgJycsCiAgICB1c2VyOiB7fQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBjaGFuZ2VTdGF0ZTogZnVuY3Rpb24gY2hhbmdlU3RhdGUocG9zdHMsIHN0YXRlKSB7CiAgICAgIHN0YXRlLnBvc3RzID0gcG9zdHM7CiAgICB9LAogICAgc2V0SXNBdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBzZXRJc0F1dGhlbnRpY2F0ZWQoc3RhdGUpIHsKICAgICAgc3RhdGUuaXNBdXRoZW50aWNhdGVkID0gdHJ1ZTsKICAgIH0sCiAgICBhdXRoX3JlcXVlc3Q6IGZ1bmN0aW9uIGF1dGhfcmVxdWVzdChzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMgPSAnbG9hZGluZyc7CiAgICB9LAogICAgYXV0aF9zdWNjZXNzOiBmdW5jdGlvbiBhdXRoX3N1Y2Nlc3Moc3RhdGUsIHRva2VuLCB1c2VyKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9ICdzdWNjZXNzJzsKICAgICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICAgICAgc3RhdGUudXNlciA9IHVzZXI7CiAgICB9LAogICAgYXV0aF9lcnJvcjogZnVuY3Rpb24gYXV0aF9lcnJvcihzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMgPSAnZXJyb3InOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgdXNlckxvZ2luOiBmdW5jdGlvbiB1c2VyTG9naW4oX3JlZiwgdXNlcikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgY29tbWl0KCdhdXRoX3JlcXVlc3QnKTsKICAgICAgICBheGlvcyh7CiAgICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvbG9naW4nLAogICAgICAgICAgZGF0YTogdXNlciwKICAgICAgICAgIG1ldGhvZDogJ1BPU1QnCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgdmFyIHRva2VuID0gcmVzcC5kYXRhLnRva2VuOwogICAgICAgICAgdmFyIHVzZXIgPSByZXNwLmRhdGEudXNlcjsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKTsKICAgICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSB0b2tlbjsKICAgICAgICAgIGNvbW1pdCgnYXV0aF9zdWNjZXNzJywgdG9rZW4sIHVzZXIpOwogICAgICAgICAgcmVzb2x2ZShyZXNwKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBjb21taXQoJ2F1dGhfZXJyb3InKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOwogICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHVzZXJTaWdudXA6IGZ1bmN0aW9uIHVzZXJTaWdudXAoX3JlZjIsIHVzZXIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBjb21taXQoJ2F1dGhfcmVxdWVzdCcpOwogICAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9yZWdpc3RlcicsIHVzZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3AuZGF0YS50b2tlbjsKICAgICAgICAgIHZhciB1c2VyID0gcmVzcC5kYXRhLnVzZXI7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbik7CiAgICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gdG9rZW47CiAgICAgICAgICBjb21taXQoJ2F1dGhfc3VjY2VzcycsIHRva2VuLCB1c2VyKTsKICAgICAgICAgIHJlc29sdmUocmVzcCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29tbWl0KCdhdXRoX2Vycm9yJywgZXJyKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOwogICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFBvc3RzOiBmdW5jdGlvbiBnZXRQb3N0cyhjb21taXQsIHN0YXRlKSB7CiAgICAgIGF4aW9zLmdldCgnaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzJykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmV0dXJuIHN0YXRlLnBvc3RzID0gcmVzLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGlzTG9nZ2VkSW46IGZ1bmN0aW9uIGlzTG9nZ2VkSW4oc3RhdGUpIHsKICAgICAgcmV0dXJuICEhc3RhdGUudG9rZW47CiAgICB9LAogICAgYXV0aFN0YXR1czogZnVuY3Rpb24gYXV0aFN0YXR1cyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuc3RhdHVzOwogICAgfQogIH0sCiAgbW9kdWxlczoge30KfSk7"},{"version":3,"sources":["/Users/ckiprotich/Desktop/Projects/vueapi/client/src/store/index.js"],"names":["Vue","Vuex","axios","use","Store","state","posts","title","isAuthenticated","status","token","localStorage","getItem","user","mutations","changeState","setIsAuthenticated","auth_request","auth_success","auth_error","actions","userLogin","commit","Promise","resolve","reject","url","data","method","then","resp","setItem","defaults","headers","common","catch","err","removeItem","userSignup","post","getPosts","get","res","console","log","getters","isLoggedIn","authStatus","modules"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport axios from \"axios\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n    state: {\n        posts: '',\n        title: '',\n        isAuthenticated: false,\n        status: '',\n        token: localStorage.getItem('token') || '',\n        user: {}\n    },\n    mutations: {\n        changeState(posts, state) {\n            state.posts = posts;\n        },\n        setIsAuthenticated(state) {\n            state.isAuthenticated = true;\n        },\n        auth_request(state) {\n            state.status = 'loading'\n        },\n        auth_success(state, token, user) {\n            state.status = 'success';\n            state.token = token;\n            state.user = user\n        },\n        auth_error(state) {\n            state.status = 'error'\n        },\n    },\n    actions: {\n        userLogin({commit}, user) {\n            return new Promise((resolve, reject) => {\n                commit('auth_request');\n                axios({url: 'http://localhost:3000/login', data: user, method: 'POST'})\n                    .then(resp => {\n                        const token = resp.data.token;\n                        const user = resp.data.user;\n                        localStorage.setItem('token', token);\n                        axios.defaults.headers.common['Authorization'] = token;\n                        commit('auth_success', token, user);\n                        resolve(resp)\n                    })\n                    .catch(err => {\n                        commit('auth_error');\n                        localStorage.removeItem('token');\n                        reject(err)\n                    })\n            })\n        },\n        userSignup({commit}, user) {\n            return new Promise((resolve, reject) => {\n                commit('auth_request');\n                axios.post('http://localhost:3000/register', user)\n                    .then(resp => {\n                        const token = resp.data.token;\n                        const user = resp.data.user;\n                        localStorage.setItem('token', token);\n                        axios.defaults.headers.common['Authorization'] = token;\n                        commit('auth_success', token, user);\n                        resolve(resp)\n                    })\n                    .catch(err => {\n                        commit('auth_error', err);\n                        localStorage.removeItem('token');\n                        reject(err)\n                    })\n            })\n        },\n        getPosts(commit, state) {\n            axios.get('https://jsonplaceholder.typicode.com/posts')\n                .then(res => state.posts = res.data)\n                .catch(err => {\n                    console.log(err)\n                })\n        }\n    },\n    getters: {\n        isLoggedIn: state => !!state.token,\n        authStatus: state => state.status,\n    },\n    modules: {}\n});\n"]}]}