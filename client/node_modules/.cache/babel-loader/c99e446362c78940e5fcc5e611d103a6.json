{"remainingRequest":"/Users/ckiprotich/Desktop/Projects/vueapi/client/node_modules/babel-loader/lib/index.js!/Users/ckiprotich/Desktop/Projects/vueapi/client/node_modules/eslint-loader/index.js??ref--13-0!/Users/ckiprotich/Desktop/Projects/vueapi/client/src/store/index.js","dependencies":[{"path":"/Users/ckiprotich/Desktop/Projects/vueapi/client/src/store/index.js","mtime":1577934014851},{"path":"/Users/ckiprotich/Desktop/Projects/vueapi/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ckiprotich/Desktop/Projects/vueapi/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ckiprotich/Desktop/Projects/vueapi/client/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgVnVleCBmcm9tICJ2dWV4IjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICBwb3N0czoge30sCiAgICB0aXRsZTogJycsCiAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlLAogICAgc3RhdHVzOiAnJywKICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSB8fCAnJywKICAgIHVzZXI6IHt9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGNoYW5nZV9zdGF0ZTogZnVuY3Rpb24gY2hhbmdlX3N0YXRlKHN0YXRlLCBwb3N0cykgewogICAgICBzdGF0ZS5wb3N0cyA9IHBvc3RzOwogICAgfSwKICAgIHNldElzQXV0aGVudGljYXRlZDogZnVuY3Rpb24gc2V0SXNBdXRoZW50aWNhdGVkKHN0YXRlKSB7CiAgICAgIHN0YXRlLmlzQXV0aGVudGljYXRlZCA9IHRydWU7CiAgICB9LAogICAgZGVsZXRlX3Bvc3Q6IGZ1bmN0aW9uIGRlbGV0ZV9wb3N0KHN0YXRlLCBwb3N0KSB7CiAgICAgIHZhciBwb3N0cyA9IHN0YXRlLnBvc3RzOwogICAgICBwb3N0cy5zcGxpY2UocG9zdHMuaW5kZXhPZihwb3N0KSwgMSk7CiAgICB9LAogICAgYXV0aF9yZXF1ZXN0OiBmdW5jdGlvbiBhdXRoX3JlcXVlc3Qoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gJ2xvYWRpbmcnOwogICAgfSwKICAgIGF1dGhfc3VjY2VzczogZnVuY3Rpb24gYXV0aF9zdWNjZXNzKHN0YXRlLCB0b2tlbiwgdXNlcikgewogICAgICBzdGF0ZS5zdGF0dXMgPSAnc3VjY2Vzcyc7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogICAgfSwKICAgIGF1dGhfZXJyb3I6IGZ1bmN0aW9uIGF1dGhfZXJyb3Ioc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gJ2Vycm9yJzsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIHVzZXJMb2dpbjogZnVuY3Rpb24gdXNlckxvZ2luKF9yZWYsIHVzZXIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGNvbW1pdCgnYXV0aF9yZXF1ZXN0Jyk7CiAgICAgICAgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2xvZ2luJywgdXNlcikudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgdmFyIHRva2VuID0gcmVzcC5kYXRhLnRva2VuOwogICAgICAgICAgdmFyIHVzZXIgPSByZXNwLmRhdGEudXNlcjsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3ApOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pOwogICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9IHRva2VuOwogICAgICAgICAgY29tbWl0KCdhdXRoX3N1Y2Nlc3MnLCB0b2tlbiwgdXNlcik7CiAgICAgICAgICByZXNvbHZlKHJlc3ApOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIGNvbW1pdCgnYXV0aF9lcnJvcicpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgdXNlclNpZ251cDogZnVuY3Rpb24gdXNlclNpZ251cChfcmVmMiwgdXNlcikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGNvbW1pdCgnYXV0aF9yZXF1ZXN0Jyk7CiAgICAgICAgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL3JlZ2lzdGVyJywgdXNlcikudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgdmFyIHRva2VuID0gcmVzcC5kYXRhLnRva2VuOwogICAgICAgICAgdmFyIHVzZXIgPSByZXNwLmRhdGEudXNlcjsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKTsKICAgICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSB0b2tlbjsKICAgICAgICAgIGNvbW1pdCgnYXV0aF9zdWNjZXNzJywgdG9rZW4sIHVzZXIpOwogICAgICAgICAgcmVzb2x2ZShyZXNwKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBjb21taXQoJ2F1dGhfZXJyb3InLCBlcnIpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0UG9zdHM6IGZ1bmN0aW9uIGdldFBvc3RzKF9yZWYzKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaScpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHJldHVybiByZXMuZGF0YTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAocG9zdHMpIHsKICAgICAgICBjb21taXQoImNoYW5nZV9zdGF0ZSIsIHBvc3RzKTsKICAgICAgICBjb25zb2xlLmxvZyhwb3N0cyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBhZGRQb3N0czogZnVuY3Rpb24gYWRkUG9zdHMoX3JlZjQsIG15cG9zdHMpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgICAgYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wb3N0IiwgbXlwb3N0cykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmV0dXJuIHJlcy5kYXRhOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChwb3N0cykgewogICAgICAgIGNvbW1pdCgiY2hhbmdlX3N0YXRlIiwgcG9zdHMpOwogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVQb3N0OiBmdW5jdGlvbiBkZWxldGVQb3N0KF9yZWY1LCBwb3N0KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgICAgIGNvbW1pdCgiZGVsZXRlX3Bvc3QiLCBwb3N0KTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGlzTG9nZ2VkSW46IGZ1bmN0aW9uIGlzTG9nZ2VkSW4oc3RhdGUpIHsKICAgICAgcmV0dXJuICEhc3RhdGUudG9rZW47CiAgICB9LAogICAgYXV0aFN0YXR1czogZnVuY3Rpb24gYXV0aFN0YXR1cyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuc3RhdHVzOwogICAgfQogIH0sCiAgbW9kdWxlczoge30KfSk7"},{"version":3,"sources":["/Users/ckiprotich/Desktop/Projects/vueapi/client/src/store/index.js"],"names":["Vue","Vuex","axios","use","Store","state","posts","title","isAuthenticated","status","token","localStorage","getItem","user","mutations","change_state","setIsAuthenticated","delete_post","post","splice","indexOf","auth_request","auth_success","auth_error","actions","userLogin","commit","Promise","resolve","reject","then","resp","data","console","log","setItem","defaults","headers","common","catch","err","removeItem","userSignup","getPosts","get","res","addPosts","myposts","deletePost","getters","isLoggedIn","authStatus","modules"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport axios from \"axios\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n    state: {\n        posts: {},\n        title: '',\n        isAuthenticated: false,\n        status: '',\n        token: localStorage.getItem('token') || '',\n        user: {}\n    },\n    mutations: {\n        change_state(state, posts) {\n            state.posts=posts;\n        },\n        setIsAuthenticated(state) {\n            state.isAuthenticated = true;\n        },\n        delete_post(state, post){\n            const posts = state.posts;\n            posts.splice(posts.indexOf(post), 1)\n        },\n        auth_request(state) {\n            state.status = 'loading'\n        },\n        auth_success(state, token, user) {\n            state.status = 'success';\n            state.token = token;\n            state.user = user\n        },\n        auth_error(state) {\n            state.status = 'error'\n        },\n    },\n    actions: {\n        userLogin({commit}, user) {\n            return new Promise((resolve, reject) => {\n                commit('auth_request');\n                axios.post('http://localhost:3000/login', user)\n                    .then(resp => {\n                        const token = resp.data.token;\n                        const user = resp.data.user;\n                        console.log(resp);\n                        localStorage.setItem('token', token);\n                        axios.defaults.headers.common['Authorization'] = token;\n                        commit('auth_success', token, user);\n                        resolve(resp)\n                    })\n                    .catch(err => {\n                        commit('auth_error');\n                        localStorage.removeItem('token');\n                        reject(err)\n                    })\n            })\n        },\n        userSignup({commit}, user) {\n            return new Promise((resolve, reject) => {\n                commit('auth_request');\n                axios.post('http://localhost:3000/register', user)\n                    .then(resp => {\n                        const token = resp.data.token;\n                        const user = resp.data.user;\n                        localStorage.setItem('token', token);\n                        axios.defaults.headers.common['Authorization'] = token;\n                        commit('auth_success', token, user);\n                        resolve(resp)\n                    })\n                    .catch(err => {\n                        commit('auth_error', err);\n                        localStorage.removeItem('token');\n                        reject(err)\n                    })\n            })\n        },\n        getPosts({commit}) {\n            axios.get('http://localhost:3000/api')\n                .then(res => res.data)\n                .then(posts => {\n                    commit(\"change_state\", posts);\n                    console.log(posts)\n                })\n                .catch(err => {\n                    console.log(err)\n                })\n        },\n        addPosts({commit},myposts) {\n            axios.post(\"http://localhost:3000/api/post\", myposts)\n                .then(res=>res.data)\n                .then(posts=>{\n                    commit(\"change_state\", posts);\n                })\n        },\n        deletePost({commit}, post){\n            commit(\"delete_post\", post)\n        }\n    },\n    getters: {\n        isLoggedIn: state => !!state.token,\n        authStatus: state => state.status,\n    },\n    modules: {}\n});\n"]}]}